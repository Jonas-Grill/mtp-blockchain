<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Untitled :: Antora Docs</title>
    <meta name="generator" content="Antora 3.1.2">
    <link rel="stylesheet" href="../../../_/css/site.css">
    <script>var uiRootPath = '../../../_'</script>
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <div class="navbar-item">
        <a>MTP-Blockchain</a>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="documentation.yml-mtp-blockchain" data-version="0.1">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">MTP-Blockchain</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../index.html">Home</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Master Team Project</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../masterTeamProject/masterProject.html">A Blockchain-based system for course submissions</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">For Students</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../forStudents/guide.html">Guide for Knowledge Base</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../forStudents/metamask.html">Metamask Setup</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">For Lecturers</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="raspberry.html">Raspberry Pi setup</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="basicRaspberrySetup.html">Basic Raspberry Pi setup</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="frontendFaucetRaspberrySetup.html">Frontend &amp; Faucet Raspberry Pi setup</a>
  </li>
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="minerRPCRaspberrySetup.html">Miner Node &amp; RPC Node Raspberry Pi setup</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="newSemester.html">Start a new semester</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="adminFunctions.html">Admin functions</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">For Developers</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../forDevelopers/frontend.html">Frontend &amp; Blockchain interaction</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../forDevelopers/smartcontracts.html">Knowledge Base - Smart contracts</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">MTP-Blockchain</span>
    <span class="version">0.1-beta.1</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <a class="title" href="../index.html">MTP-Blockchain</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index.html">0.1-beta.1</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">MTP-Blockchain</a></li>
    <li>For Lecturers</li>
    <li><a href="raspberry.html">Raspberry Pi setup</a></li>
    <li><a href="minerRPCRaspberrySetup.html">Miner Node &amp; RPC Node Raspberry Pi setup</a></li>
  </ul>
</nav>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<div class="sect1">
<h2 id="_miner_rpc_raspberry_pi_setup"><a class="anchor" href="#_miner_rpc_raspberry_pi_setup"></a>Miner &amp; RPC Raspberry Pi setup</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Before you can start with the setup of a miner or RPC node you need to complete the basic Raspberry Pi setup. If you haven’t done so yet, please follow the instructions in the <a href="basicRaspberrySetup.html" class="xref page">Basic Raspberry Pi</a> section.
You can either work directly on the Raspberry Pi or use a remote connection via SSH as described earlier in the <a href="basicRaspberrySetup.html" class="xref page">Basic Raspberry Pi</a> section.
This guide is describing the process</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_getting_the_ip_address_of_the_pi"><a class="anchor" href="#_getting_the_ip_address_of_the_pi"></a>Getting the IP-Address of the Pi</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Now you need to open a terminal on the Pi and type:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>ifconfig</pre>
</div>
</div>
<div class="paragraph">
<p>and press enter. You will see a lot of information about your Pi.
In the wlan0 (for WiFi) / eth0 (for ethernet connection) section you will see the IP-Address of your Pi after "inet". Please write this down, as you will need it later.</p>
</div>
<div class="sect2">
<h3 id="_installing_go"><a class="anchor" href="#_installing_go"></a>Installing GO</h3>
<div class="paragraph">
<p>Now you need to install GO on your Pi. First you should navigate to the folder, where you want to download the installation files to. Then, open the terminal and type:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>wget -c https://golang.org/dl/go1.19.5.linux-armv6l.tar.gz</pre>
</div>
</div>
<div class="paragraph">
<p>and press enter to download GO.</p>
</div>
<div class="paragraph">
<p>Then type:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>sudo rm -rf /usr/local/go &amp;&amp; sudo tar -C /usr/local -xzf go1.19.5.linux-armv6l.tar.gz</pre>
</div>
</div>
<div class="paragraph">
<p>and press enter to install GO.</p>
</div>
<div class="paragraph">
<p>Then type:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>cd</pre>
</div>
</div>
<div class="paragraph">
<p>and press enter to navigate to the home directory.</p>
</div>
<div class="paragraph">
<p>Then type:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>nano .profile</pre>
</div>
</div>
<div class="paragraph">
<p>and press enter to open the .profile file. The .profile file gets executed at the launch of a login bash shell.</p>
</div>
<div class="paragraph">
<p>Then scroll down to the bottom of the file and add the following lines:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>export PATH=$PATH:/usr/local/go/bin
export GOPATH=$HOME/go</pre>
</div>
</div>
<div class="paragraph">
<p>and press CTRL+S and then CTRL+X.</p>
</div>
<div class="paragraph">
<p>Then type:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>sudo reboot now</pre>
</div>
</div>
<div class="paragraph">
<p>and press enter. The Pi will now reboot.</p>
</div>
<div class="paragraph">
<p>Once the Pi is rebooted, you need to open the terminal again and type:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>go version</pre>
</div>
</div>
<div class="paragraph">
<p>and press enter. You should see the version of go you installed. If not, please repeat the steps above. If it is correct, you can continue.</p>
</div>
</div>
<div class="sect2">
<h3 id="_installing_geth"><a class="anchor" href="#_installing_geth"></a>Installing geth</h3>
<div class="paragraph">
<p>Now you need to install geth on your Pi. To do this, please open the terminal and type:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>go install github.com/ethereum/go-ethereum/cmd/geth@latest</pre>
</div>
</div>
<div class="paragraph">
<p>and press enter to install geth.</p>
</div>
<div class="paragraph">
<p>Then type:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>cd</pre>
</div>
</div>
<div class="paragraph">
<p>and press enter to navigate to the home directory.</p>
</div>
<div class="paragraph">
<p>Then type:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>nano .profile</pre>
</div>
</div>
<div class="paragraph">
<p>and press enter.</p>
</div>
<div class="paragraph">
<p>Then scroll down to the bottom of the file and add the following line under the lines you already added for GO:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>export PATH=$PATH:$GOPATH/bin</pre>
</div>
</div>
<div class="paragraph">
<p>and press CTRL+S and then CTRL+X.</p>
</div>
<div class="paragraph">
<p>Then type:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>sudo reboot now</pre>
</div>
</div>
<div class="paragraph">
<p>and press enter. The Pi will now reboot.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_installing_pupeth_todo"><a class="anchor" href="#_installing_pupeth_todo"></a>Installing pupeth :( TODO</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_setting_up_a_geth_node"><a class="anchor" href="#_setting_up_a_geth_node"></a>Setting up a geth node</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This step is still relevant for both miners and RPC nodes. Please follow the steps below to set up a geth node.
First you need to create a folder for the node. To do this, please open the terminal and type:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>cd</pre>
</div>
</div>
<div class="paragraph">
<p>and press enter to navigate to the home directory.</p>
</div>
<div class="paragraph">
<p>Then type:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>mkdir unima</pre>
</div>
</div>
<div class="paragraph">
<p>and press enter to create the folder.</p>
</div>
<div class="paragraph">
<p>Then type:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>cd unima</pre>
</div>
</div>
<div class="paragraph">
<p>and press enter to navigate to the unima folder.</p>
</div>
<div class="paragraph">
<p>Then type:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>mkdir node1</pre>
</div>
</div>
<div class="paragraph">
<p>and press enter to create the node1 folder. You can replace the 1 with the number of the Pi you are setting up. For example, if you are setting up Pi 2, you would type:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>mkdir node2</pre>
</div>
</div>
<div class="paragraph">
<p>and press enter.</p>
</div>
<div class="paragraph">
<p>You can either create a new account or import an existing one. If you want to create a new account, please type:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>geth --datadir node1 account new</pre>
</div>
</div>
<div class="paragraph">
<p>and press enter. You will then be asked to enter a password. Please enter a password and press enter.
You will then see the address of the account. Please write this down, as you will need it later.</p>
</div>
<div class="paragraph">
<p>If you want to import an existing account, please type:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>cd node1</pre>
</div>
</div>
<div class="paragraph">
<p>and press enter. Then type:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>mkdir keystore</pre>
</div>
</div>
<div class="paragraph">
<p>and press enter. Then type:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>cd keystore</pre>
</div>
</div>
<div class="paragraph">
<p>and press enter. Then copy the keystore file of your account to this folder.</p>
</div>
<div class="paragraph">
<p>Now a .txt file needs to be created to store the password of the account. For this navigate to the node folder. Then type:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>nano password.txt</pre>
</div>
</div>
<div class="paragraph">
<p>and press enter. Then enter the password of the account and press CTRL+S and CTRL+X.
Next you need to copy your genesis.json file to the unima folder. Please keep in mind, that the genesis file needs to be the same for every node in your network.
If you don´t already have a genesis file, you have to create one.
Now you need to initialize the node. To do this, please type:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>geth --datadir node1 init genesis.json</pre>
</div>
</div>
<div class="paragraph">
<p>and press enter.</p>
</div>
<div class="paragraph">
<p>Next, you need to create a config.toml file. To do this, please type:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>nano config.toml</pre>
</div>
</div>
<div class="paragraph">
<p>and press enter. Now the specifications are different for a <a href="#_miner_node">Miner Node</a> and <a href="#_rpc_node">RPC Node</a>.
Please use the links to navigate to the guide for the node you want to set up.</p>
</div>
<div class="sect2">
<h3 id="_miner_node"><a class="anchor" href="#_miner_node"></a>Miner Node</h3>
<div class="paragraph">
<p>In the config.toml file you need to add the following lines:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[Eth]
NetworkId = 1337
SyncMode = "full"
EthDiscoveryURLs = []
SnapDiscoveryURLs = []
NoPruning = false
NoPrefetch = false
TxLookupLimit = 2350000
LightPeers = 100
UltraLightFraction = 75
DatabaseCache = 341
DatabaseFreezer = ""
TrieCleanCache = 102
TrieCleanCacheJournal = "triecache"
TrieCleanCacheRejournal = 3600000000000
TrieDirtyCache = 170
TrieTimeout = 3600000000000
SnapshotCache = 68
Preimages = false
FilterLogCacheSize = 32
EnablePreimageRecording = false
RPCGasCap = 50000000
RPCEVMTimeout = 5000000000
RPCTxFeeCap = 1e+00

[Eth.Miner]
GasFloor = 0
GasCeil = 30000000
GasPrice = 1
Recommit = 3000000000
Noverify = false

[Eth.Ethash]
CacheDir = "ethash"
CachesInMem = 2
CachesOnDisk = 3
CachesLockMmap = false
DatasetDir = "/home/unima/.ethash"
DatasetsInMem = 1
DatasetsOnDisk = 2
DatasetsLockMmap = false
PowMode = 0
NotifyFull = false

[Eth.TxPool]
Locals = []
NoLocals = false
Journal = "transactions.rlp"
Rejournal = 3600000000000
PriceLimit = 1
PriceBump = 10
AccountSlots = 16
GlobalSlots = 5120
AccountQueue = 64
GlobalQueue = 1024
Lifetime = 10800000000000

[Eth.GPO]
Blocks = 20
Percentile = 60
MaxHeaderHistory = 1024
MaxBlockHistory = 1024
MaxPrice = 500000000000
IgnorePrice = 2

[Node]
DataDir = "node1"
IPCPath = "geth.ipc"
HTTPPort = 8501
HTTPVirtualHosts = ["localhost"]
HTTPModules = ["eth", "net", "web3"]
AuthAddr = "localhost"
AuthPort = 8551
AuthVirtualHosts = ["localhost"]
WSPort = 8546
WSModules = ["net", "web3", "eth"]
GraphQLVirtualHosts = ["localhost"]

[Node.P2P]
MaxPeers = 50
NoDiscovery = true
BootstrapNodes = []
BootstrapNodesV5 = []
StaticNodes = []
TrustedNodes = []
ListenAddr = ":30311"
DiscAddr = ""
EnableMsgEvents = false

[Node.HTTPTimeouts]
ReadTimeout = 30000000000
ReadHeaderTimeout = 30000000000
WriteTimeout = 30000000000
IdleTimeout = 120000000000

[Metrics]
HTTP = "127.0.0.1"
Port = 6060
InfluxDBEndpoint = "http://localhost:8086"
InfluxDBDatabase = "geth"
InfluxDBUsername = "test"
InfluxDBPassword = "test"
InfluxDBTags = "host=localhost"
InfluxDBToken = "test"
InfluxDBBucket = "geth"
InfluxDBOrganization = "geth"</pre>
</div>
</div>
<div class="paragraph">
<p>You need to change the following lines:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>NetworkId to the network ID you want to use. This needs to be the same for every node in your network and the same as in the genesis file.</p>
</li>
<li>
<p>DataDir to the name of the folder you created in the beginning. For example, if you created a folder called "node1", you would type:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>DataDir = "node1"</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>ListenAddr to the port you want to use. This is the port, that the node uses, to communicate with the peers in the P2P network.
For example, if you want to use port 30311, you would type:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>ListenAddr = ":30311"</pre>
</div>
</div>
<div class="paragraph">
<p>The port needs to be unlocked in your firewall.
If you did not already add the port, you can check the part in the guide about the <a href="basicRaspberrySetup.html#_installing_a_firewall" class="xref page">firewall</a>.
Now press CTRL+S and CTRL+X to save and exit the file.</p>
</div>
<div class="paragraph">
<p>Then you need to create a script to start the miner node. To do this, please type:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>nano start_node_1.sh</pre>
</div>
</div>
<div class="paragraph">
<p>and press enter. Now you need to add the following lines:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>#!/bin/bash

geth --unlock &lt;node address&gt; \
     --mine \
     --miner.threads 1 \
     --password node1/password.txt \
     --config config.toml \</pre>
</div>
</div>
<div class="paragraph">
<p>You need to change the node address to the address of the account you created in the beginning.
For example, if you created an account with the address "0x1234567890abcdef1234567890abcdef12345678", you would type:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>geth --unlock 0x1234567890abcdef1234567890abcdef12345678 \</pre>
</div>
</div>
<div class="paragraph">
<p>Now press CTRL+S and CTRL+X to save and exit the file.
To continue the setup, please go to <a href="#_setting_up_the_p2p_network">Setting up the P2P Network</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_rpc_node"><a class="anchor" href="#_rpc_node"></a>RPC Node</h3>
<div class="paragraph">
<p>In the config.toml file you need to add the following lines:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[Eth]
NetworkId = 1337
SyncMode = "full"
EthDiscoveryURLs = []
SnapDiscoveryURLs = []
NoPruning = false
NoPrefetch = false
TxLookupLimit = 2350000
LightPeers = 100
UltraLightFraction = 75
DatabaseCache = 341
DatabaseFreezer = ""
TrieCleanCache = 102
TrieCleanCacheJournal = "triecache"
TrieCleanCacheRejournal = 3600000000000
TrieDirtyCache = 170
TrieTimeout = 3600000000000
SnapshotCache = 68
Preimages = false
FilterLogCacheSize = 32
EnablePreimageRecording = false
RPCGasCap = 50000000
RPCEVMTimeout = 5000000000
RPCTxFeeCap = 1e+00

[Eth.Ethash]
CacheDir = "ethash"
CachesInMem = 2
CachesOnDisk = 3
CachesLockMmap = false
DatasetDir = "/home/unima/.ethash"
DatasetsInMem = 1
DatasetsOnDisk = 2
DatasetsLockMmap = false
PowMode = 0
NotifyFull = false

[Eth.TxPool]
Locals = []
NoLocals = false
Journal = "transactions.rlp"
Rejournal = 3600000000000
PriceLimit = 1
PriceBump = 10
AccountSlots = 16
GlobalSlots = 5120
AccountQueue = 64
GlobalQueue = 1024
Lifetime = 10800000000000

[Eth.GPO]
Blocks = 20
Percentile = 60
MaxHeaderHistory = 1024
MaxBlockHistory = 1024
MaxPrice = 500000000000
IgnorePrice = 2

[Node]
DataDir = "node1"
IPCPath = "geth.ipc"
HTTPHost = "134.567.890.123"
HTTPPort = 8506
HTTPCors = ["*"]
HTTPVirtualHosts = ["localhost"]
HTTPModules = ["eth", "net", "web3"]
AuthAddr = "localhost"
AuthPort = 8551
AuthVirtualHosts = ["localhost"]
WSHost = ""
WSPort = 8546
WSModules = ["net", "web3", "eth"]
GraphQLVirtualHosts = ["localhost"]

[Node.P2P]
MaxPeers = 50
NoDiscovery = true
BootstrapNodes = []
BootstrapNodesV5 = []
StaticNodes = []
TrustedNodes = []
ListenAddr = ":30316"
DiscAddr = ""
EnableMsgEvents = false

[Node.HTTPTimeouts]
ReadTimeout = 30000000000
ReadHeaderTimeout = 30000000000
WriteTimeout = 30000000000
IdleTimeout = 120000000000

[Metrics]
HTTP = "127.0.0.1"
Port = 6060
InfluxDBEndpoint = "http://localhost:8086"
InfluxDBDatabase = "geth"
InfluxDBUsername = "test"
InfluxDBPassword = "test"
InfluxDBTags = "host=localhost"
InfluxDBToken = "test"
InfluxDBBucket = "geth"
InfluxDBOrganization = "geth"</pre>
</div>
</div>
<div class="paragraph">
<p>You need to change the following lines:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>NetworkId to the network ID you want to use. This needs to be the same for every node in your network and the same as in the genesis file.</p>
</li>
<li>
<p>DataDir to the name of the folder you created in the beginning. For example, if you created a folder called "node1", you would type:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>DataDir = "node1"</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>HTTPHost to the IP address of the Pi. For example, if the IP address of the Pi is 134.567.890.123, you would type:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>HTTPHost = "134.567.890.123"</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>HTTPPort to the port you want to use. This is the port, on which the node opens the RPC API.
For example, if you want to use port 8506, you would type:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>HTTPPort = 8506</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>ListenAddr to the port you want to use. This is the port, that the node uses, to communicate with the peers in the P2P network.
For example, if you want to use port 30311, you would type:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>ListenAddr = ":30311"</pre>
</div>
</div>
<div class="paragraph">
<p>The port for the ListenAddr and the HTTPPort need to be unlocked in your firewall.
If you did not already add the ports, you can check the part in the guide about the <a href="basicRaspberrySetup.html#_installing_a_firewall" class="xref page">firewall</a>.
Now press CTRL+S and CTRL+X to save and exit the file.
Please continue with <a href="#_setting_up_the_p2p_network">Setting up the P2P Network</a>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_setting_up_the_p2p_network"><a class="anchor" href="#_setting_up_the_p2p_network"></a>Setting up the P2P Network</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This step is both for the RPC nodes and the miner nodes.
First, you need to copy the enode of the node you want to connect to.
To do this, you need to first start the node. To do this, open the terminal and type:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>sh start_node1.sh</pre>
</div>
</div>
<div class="paragraph">
<p>This will start the node. In this case, node1.
Then press CTRL+C to stop the node.
You will again see a lot of information. You need to copy the enode. The enode is shown in quotation marks after "self=".
For example, if the enode is:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>enode://6f8a80d14311c39f35f516fa664deaaaa13e85b2f7493f37f6144d86991ec012937307647bd3b9a82abe2974e1407241d54947bbb39763a4cac9f77166ad92a0@127.0.0.1:30311?discport=0</pre>
</div>
</div>
<div class="paragraph">
<p>you would note down:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>"enode://6f8a80d14311c39f35f516fa664deaaaa13e85b2f7493f37f6144d86991ec012937307647bd3b9a82abe2974e1407241d54947bbb39763a4cac9f77166ad92a0@&lt;IP-Address&gt;:30311?discport=0"</pre>
</div>
</div>
<div class="paragraph">
<p>The IP-Address needs to be changed to the IP-Address of the Raspberry Pi you want to set up.
To find out the IP-Address of the Pi, you can check the part in the guide about the <a href="basicRaspberrySetup.html#_getting_the_ip_address_of_the_raspberry_pi" class="xref page">IP-Address</a>.</p>
</div>
<div class="paragraph">
<p>Please do all the steps before for every miner and RPC node of the P2P network you want to set up, so that the list of enodes is complete and up-to-date.
Then you can go on with the following steps for each node.</p>
</div>
<div class="paragraph">
<p>Go back to the terminal and type:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>nano config.toml</pre>
</div>
</div>
<div class="paragraph">
<p>and press enter. Then scroll down to [Node.P2P]. After "StaticNodes = [" paste the enodes you copied.
Separate the enodes with a comma. The enodes need to be in quotation marks as shown in the example above.
Then press CTRL+S and CTRL+X.</p>
</div>
<div class="paragraph">
<p>The Raspberry Pi is now all set to be a node.
You can now start every node by typing:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>sh start_node1.sh</pre>
</div>
</div>
<div class="paragraph">
<p>This will start the node. In this case, node1. The nodes will now start to connect to each other and sync the blockchain.
You can connect to the blockchain by using the IP-Address and port of the RPC API.
For more information on the RPC API in general, please check <a href="https://geth.ethereum.org/docs/interacting-with-geth/rpc">this</a>.</p>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <p>This page was built using the Antora default UI.</p>
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.</p>
</footer>
<script id="site-script" src="../../../_/js/site.js" data-ui-root-path="../../../_"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
  </body>
</html>

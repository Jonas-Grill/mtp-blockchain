<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Basic Raspberry Pi setup :: Antora Docs</title>
    <meta name="generator" content="Antora 3.1.2">
    <link rel="stylesheet" href="../../../_/css/site.css">
    <script>var uiRootPath = '../../../_'</script>
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <div class="navbar-item">
        <a>MTP-Blockchain</a>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="documentation.yml-mtp-blockchain" data-version="0.1">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">MTP-Blockchain</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../index.html">Home</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Master Team Project</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../masterTeamProject/masterProject.html">A Blockchain-based system for course submissions</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">For Students</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../forStudents/guide.html">Guide for Knowledge Base</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../forStudents/metamask.html">Metamask Setup</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">For Lecturers</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="raspberry.html">Raspberry Pi setup</a>
<ul class="nav-list">
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="basicRaspberrySetup.html">Basic Raspberry Pi setup</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="frontendFaucetRaspberrySetup.html">Frontend &amp; Faucet Raspberry Pi setup</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="minerRPCRaspberrySetup.html">Miner Node &amp; RPC Node Raspberry Pi setup</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="setupTheKnowledgeBase.html">KnowledgeBase setup</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="newSemester.html">Start a new semester</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="adminFunctions.html">Admin functions</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">For Developers</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../forDevelopers/knowledgeBaseSetup.html">Frontend &amp; Blockchain interaction</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../forDevelopers/smartcontracts.html">Knowledge Base - Smart contracts</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">MTP-Blockchain</span>
    <span class="version">0.1-beta.1</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <a class="title" href="../index.html">MTP-Blockchain</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index.html">0.1-beta.1</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">MTP-Blockchain</a></li>
    <li>For Lecturers</li>
    <li><a href="raspberry.html">Raspberry Pi setup</a></li>
    <li><a href="basicRaspberrySetup.html">Basic Raspberry Pi setup</a></li>
  </ul>
</nav>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Basic Raspberry Pi setup</h1>
<div class="sect1">
<h2 id="_tools_needed"><a class="anchor" href="#_tools_needed"></a>Tools needed</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Raspberry Pi</p>
</li>
<li>
<p>SD card</p>
</li>
<li>
<p>SD card reader</p>
</li>
<li>
<p>Ethernet cable or WiFi</p>
</li>
<li>
<p>USB keyboard</p>
</li>
<li>
<p>USB mouse</p>
</li>
<li>
<p>Micro HDMI to HDMI/Display port cable or adapter</p>
</li>
<li>
<p>USB-C power supply cable</p>
</li>
<li>
<p>Own PC</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_installing_the_imager_on_a_sd_card"><a class="anchor" href="#_installing_the_imager_on_a_sd_card"></a>Installing the imager on a SD card</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To install the Raspberry Pi OS on the Pi´s you need to have the Raspberry Pi imager installed on your PC.
For this, visit the website: <a href="https://www.raspberrypi.com/software/" class="bare">https://www.raspberrypi.com/software/</a>. Here you can choose the right download according to your operating system:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/Raspberry1.png" alt="Raspberry1">
</div>
</div>
<div class="paragraph">
<p>Once downloaded you see a screen like this:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/Raspberry2.png" alt="Raspberry2">
</div>
</div>
<div class="paragraph">
<p>You then need to put your SD card in your SD card reader.
Then you need to select the OS you want to install on your Pi´s, which is the following:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/Raspberry3.png" alt="Raspberry3">
</div>
</div>
<div class="paragraph">
<p>Then you need to select the SD card you put in your SD card reader.
When you have done this, you can click on the "Write" button to start the installation process.
After some time, the imager will tell you that the installation was successful, and you can remove the SD card from the SD card reader.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_setting_up_the_raspberry_pi_hardware"><a class="anchor" href="#_setting_up_the_raspberry_pi_hardware"></a>Setting up the Raspberry Pi hardware</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Please follow the instructions on how to put the Raspberry Pi together which are in the packaging of the Pi. A picture of all the possible connection points is shown here:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/Raspberry4.png" alt="Raspberry4">
</div>
</div>
<div class="paragraph">
<p>After you have put the Pi together, you need to connect the Pi to the fitting power supply. You will also need to plug in the micro HDMI cable to the Pi and connect it to a display.
You will also need to connect the Pi to an ethernet cable if you choose this over a WiFi-Connection.
You eventually also need to plug in a USB keyboard and mouse to interact with the Pi.
Lastly you can insert the SD card in the SD card slot of the Raspberry Pi. Please keep in mind to insert it in the right way, so that the gold contacts are facing the Pi.
Once all of this is done you can start the software setup process of your Raspberry Pi.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_setting_up_the_raspberry_pi_software"><a class="anchor" href="#_setting_up_the_raspberry_pi_software"></a>Setting up the Raspberry Pi software</h2>
<div class="sectionbody">
<div class="paragraph">
<p>When you turn on your Raspberry Pi with all the things plugged in as described in the step before, you will see a welcome screen. Then you have to press "Next".</p>
</div>
<div class="paragraph">
<p>Then you have to set the country, by choosing "Germany" for the country. Language should then automatically be set to "German" and Timezone to "Berlin". If not, please change it manually.
Please check the box for "Use English Language". Then press "Next".</p>
</div>
<div class="paragraph">
<p>You are then asked to create a user by providing a username and password. This information is given to the admin/lecturer beforehand. Then press "Next".</p>
</div>
<div class="paragraph">
<p>Now you can set up the screen if it us not shown correctly. You can either switch the toggle and click "Next" or if the screen is shown correctly just press "Next".</p>
</div>
<div class="paragraph">
<p>If you have decided for a Wifi-Connection, you now have to select your Wifi-Network and press "Next". Then you need to provide the WiFi-Password and press "Next".</p>
</div>
<div class="paragraph">
<p>Once done, you are asked to update the software. Please press "Next" to do this. This eventually takes a while.</p>
</div>
<div class="paragraph">
<p>After this is completed you see the setup Complete screen, and you have to press "Restart". The Raspberry Pi will now restart, and you will see the desktop of the Pi.</p>
</div>
<div class="paragraph">
<p>You now have to click on the raspberry icon in the top left corner and select "Preferences" and then "Raspberry Pi Configuration". Then you have to select "Interfaces" and enable "SSH". Then press "OK".
Also in the configuration window, go to Localisation and set the keyboard layout to "German". Then press "OK".</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_updating_the_raspberry_pi_software"><a class="anchor" href="#_updating_the_raspberry_pi_software"></a>Updating the Raspberry Pi software</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To update the software on the Raspberry Pi, you need to open a terminal window. You can do this by clicking on the raspberry icon in the top left corner and selecting "Accessories" and then "Terminal".
Then you need to type in the following command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>sudo apt-get update &amp;&amp; sudo apt-get full-upgrade</pre>
</div>
</div>
<div class="paragraph">
<p>and press enter. This will update the software on the Raspberry Pi. This will take a while. Once it is done, you can close the terminal window. Please do this in the initial setup and also <strong>regularly to keep the software up to date. This is especially important for security reasons.</strong></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_changing_the_default_ssh_port"><a class="anchor" href="#_changing_the_default_ssh_port"></a>Changing the default SSH port</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This step is optional, but recommended.
To change the default SSH port, you need to open a terminal window.
Then you need to type in the following command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>sudo nano /etc/ssh/sshd_config</pre>
</div>
</div>
<div class="paragraph">
<p>and press enter. This will open the sshd_config file in the nano editor.</p>
</div>
<div class="paragraph">
<p>Now you need to find the line that says "#Port 22" and change it to "Port &lt;port&gt;".
You need to replace &lt;port&gt; with the port you want to use for SSH. This port needs to be different from the ports you want to open for the faucet and the frontend.
Then press "Ctrl + X" to exit the editor. Then press "Y" to save the changes.</p>
</div>
<div class="paragraph">
<p>Now you need to restart the SSH service by typing in the following command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>sudo service ssh restart</pre>
</div>
</div>
<div class="paragraph">
<p>and press enter. This will restart the SSH service.</p>
</div>
<div class="sect2">
<h3 id="_access_the_raspberry_pi_via_ssh"><a class="anchor" href="#_access_the_raspberry_pi_via_ssh"></a>Access the Raspberry Pi via SSH</h3>
<div class="paragraph">
<p>You can either work on the raspberry pi directly via the display or you can access it via SSH on your PC.
To access the Raspberry Pi via SSH, you need to open a terminal window, but this time on your own PC.
Then you need to type in the following command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>ssh &lt;username&gt;@&lt;ip-address&gt; -p &lt;port&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>and press enter.
You need to replace &lt;username&gt; with the username you created in the initial setup,
&lt;ip-address&gt; with the IP address of the Raspberry Pi and &lt;port&gt; with the port you chose for SSH.</p>
</div>
<div class="sect3">
<h4 id="_getting_the_ip_address_of_the_raspberry_pi"><a class="anchor" href="#_getting_the_ip_address_of_the_raspberry_pi"></a>Getting the IP address of the Raspberry Pi</h4>
<div class="paragraph">
<p>If you don´t already know the IP address of the Raspberry Pi, do the following:
To get the IP address of the Raspberry Pi, you need to open a terminal window on the Raspberry Pi and type in the following command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>ifconfig</pre>
</div>
</div>
<div class="paragraph">
<p>and press enter. You will see a lot of information about your Pi. In the wlan0 (for WiFi) / eth0 (for ethernet connection) section you will see the IP-Address of your Pi after "inet".</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_installing_a_firewall"><a class="anchor" href="#_installing_a_firewall"></a>Installing a firewall</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To install a firewall on the Raspberry Pi, you need to open a terminal window. You can do this by clicking on the raspberry icon in the top left corner and selecting "Accessories" and then "Terminal".
Then you need to type in the following command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>sudo apt-get install ufw</pre>
</div>
</div>
<div class="paragraph">
<p>and press enter. This will install the firewall on the Raspberry Pi.</p>
</div>
<div class="paragraph">
<p>Now the ports you want to open need to be configured. You can do this by typing in the following command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>sudo ufw allow &lt;port&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>and press enter. You need to replace &lt;port&gt; with the port you want to open. You can do this for every port you want to open.
Depending on the purpose of the Pi, you need to open ports for the following services:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Faucet API</p>
</li>
<li>
<p>Frontend</p>
</li>
<li>
<p>SSH (the port you chose in the step: <a href="#_changing_the_default_ssh_port">Changing the default SSH port</a>)</p>
</li>
<li>
<p>Chain P2P connection</p>
</li>
<li>
<p>Chain RPC API</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Once you are done, you can type in the following command to list all the ports you have opened:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>sudo ufw show added</pre>
</div>
</div>
<div class="paragraph">
<p>and press enter. This will show you all the ports you have opened.</p>
</div>
<div class="paragraph">
<p>Now you can enable the firewall by typing in the following command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>sudo ufw enable</pre>
</div>
</div>
<div class="paragraph">
<p>and press enter. This will enable the firewall.</p>
</div>
<div class="paragraph">
<p>To check if the firewall is enabled, you can type in the following command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>sudo ufw status</pre>
</div>
</div>
<div class="paragraph">
<p>and press enter. This will show you the status of the firewall.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_installing_fail2ban"><a class="anchor" href="#_installing_fail2ban"></a>Installing Fail2ban</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To make the Pi more secure, you can install Fail2ban.
Fail2ban is a tool that detects brute-force attacks and blocks them.
It blocks the IP address of the attacker after five failed login attempts for a certain amount of time.</p>
</div>
<div class="paragraph">
<p>To install Fail2ban, you need to open a terminal window.
Then you need to type in the following command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>sudo apt-get install fail2ban</pre>
</div>
</div>
<div class="paragraph">
<p>and press enter. This will install Fail2ban on the Raspberry Pi.</p>
</div>
<div class="paragraph">
<p>Now you need to configure Fail2ban. You can do this by typing in the following command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>sudo nano /etc/fail2ban/jail.conf</pre>
</div>
</div>
<div class="paragraph">
<p>and press enter. This will open the jail.conf file in the nano editor.
Here you can change the ban time by changing the value of "bantime" to the amount of time you want to ban the attacker.
You can also change the amount of failed login attempts before the IP address is banned by changing the value of "maxretry" to the amount of failed login attempts you want to allow.
For more information on the configuration of Fail2ban, please visit <a href="https://www.fail2ban.org/wiki/index.php/MANUAL_0_8#Configuration">Fail2Ban manual</a>.
Then press "Ctrl + S" to save the changes. Then press "Ctrl + X" to exit the editor.</p>
</div>
<div class="paragraph">
<p>Now you need to restart Fail2ban by typing in the following command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>sudo service fail2ban restart</pre>
</div>
</div>
<div class="paragraph">
<p>and press enter. This will restart Fail2ban.</p>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <p>This page was built using the Antora default UI.</p>
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.</p>
</footer>
<script id="site-script" src="../../../_/js/site.js" data-ui-root-path="../../../_"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
